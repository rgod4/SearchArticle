(this["webpackJsonppractice-app"]=this["webpackJsonppractice-app"]||[]).push([[0],{21:function(e,t,a){},22:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),s=a(10),r=a.n(s),i=(a(21),a(22),a(2)),d=a(3),l=a(0),j={searchkey:"",startDate:"",endDate:""},b=function(e,t){switch(t.type){case"searchkey":return Object(i.a)(Object(i.a)({},e),{},{searchkey:t.data});case"startDate":return Object(i.a)(Object(i.a)({},e),{},{startDate:t.data});case"endDate":return Object(i.a)(Object(i.a)({},e),{},{endDate:t.data});case"reset":return t.data;default:return e}};function o(e){var t=e.sendData,a=Object(c.useState)(!1),n=Object(d.a)(a,2),s=n[0],r=n[1],o=Object(c.useState)(!1),u=Object(d.a)(o,2),m=u[0],h=u[1],O=Object(c.useReducer)(b,j),p=Object(d.a)(O,2),f=p[0],x=p[1];Object(c.useEffect)((function(){r(!1)}),[f.searchkey]),Object(c.useEffect)((function(){h(!1)}),[f.startDate,f.endDate]);var v=function(e){e.preventDefault(),x({type:e.target.id,data:e.target.value})};return Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{children:"Search Articles"}),Object(l.jsx)("div",{children:Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==f.searchkey&&f.endDate>=f.startDate?(t(Object(i.a)(Object(i.a)({},f),{},{page:0})),x({type:"reset",data:j})):(""===f.searchkey&&r(!0),f.endDate<f.startDate&&h(!0))},className:"form-main",children:[Object(l.jsxs)("div",{className:"inputbox",children:[Object(l.jsxs)("div",{className:"mb-3",children:[Object(l.jsxs)("label",{htmlFor:"searchkey",className:"form-label",children:["Search Topic",Object(l.jsx)("span",{className:"red",children:"*"})]}),Object(l.jsx)("input",{type:"text",value:f.searchkey,onChange:v,className:"form-control",id:"searchkey","aria-describedby":"emailHelp"}),Object(l.jsx)("span",{className:s?"red":"hide",children:" Please fill the required field "})]}),Object(l.jsxs)("div",{className:"mb-3",children:[Object(l.jsx)("label",{htmlFor:"startDate",className:"form-label",children:"Start Date"}),Object(l.jsx)("input",{type:"date",value:f.startDate,onChange:v,className:"form-control",id:"startDate"}),Object(l.jsx)("span",{className:m?"red":"hide",children:" Enter correct start and end dates"})]}),Object(l.jsxs)("div",{className:"mb-3",children:[Object(l.jsx)("label",{className:"form-label",htmlFor:"endDate",children:"End Date"}),Object(l.jsx)("input",{type:"date",value:f.endDate,onChange:v,className:"form-control",id:"endDate"})]})]}),Object(l.jsx)("button",{type:"submit",className:"btn-main btn btn-primary",children:"Get Articles"})]})})]})}var u=n.a.memo(o),m=a(6),h=a.n(m),O=a(11),p=a(12),f=function(e,t){return"set"===t.type?t.data:e};function x(e){var t=e.inputdata,a=Object(c.useReducer)(f,{}),n=Object(d.a)(a,2),s=n[0],r=n[1],i=Object(c.useState)(-1),j=Object(d.a)(i,2),b=j[0],o=j[1],u=Object(c.useState)(0),m=Object(d.a)(u,2),x=m[0],v=m[1],y=function(){var e=Object(O.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r({type:"set",data:t.response.docs});case 2:return e.next=4,o(0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){if(""!==t.searchkey){o(1);var e="".concat("https://api.nytimes.com/svc/search/v2/articlesearch.json","?api-key=").concat("omWzfc2BGpS20PfbCTWB6eaVUOGbF1qd","&page=").concat(x,"&q=").concat(t.searchkey,'&fq=document_type:("article")');""!==t.startDate&&(e+="&begin_date=".concat(t.startDate,"&end_date=").concat(t.endDate)),fetch(e).then((function(e){return e.json()})).then((function(e){y(e)})).catch((function(e){console.error(e)}))}}),[t,x]);var D=Object.entries(s);return-1===b?Object(l.jsx)("div",{className:"result"}):Object(l.jsx)("div",{className:"result",children:Object(l.jsxs)(p.a,{isLoading:b,children:[Object(l.jsx)("div",{className:"card-deck",children:D.map((function(e,t){var a=e[1];return console.log(a),a.multimedia.length>0?Object(l.jsxs)("div",{className:"card",children:[Object(l.jsx)("img",{className:"card-img-top",src:"https://www.nytimes.com/".concat(a.multimedia[0].url),alt:"Error Loading"}),Object(l.jsxs)("div",{className:"card-body",children:[Object(l.jsx)("h4",{className:"card-title",children:Object(l.jsx)("a",{href:a.web_url,target:"_blank",children:a.headline.main})}),Object(l.jsx)("p",{className:"card-text",children:a.abstract})]}),Object(l.jsx)("div",{className:"card-footer",children:Object(l.jsx)("small",{className:"text-muted",children:"Last updated 3 mins ago"})})]},t):Object(l.jsx)(l.Fragment,{})}))}),Object(l.jsxs)("div",{children:["Page-",x+1]}),Object(l.jsxs)("div",{className:"next-prev-btn",children:[Object(l.jsx)("button",{className:"btn-main btn btn-primary",onClick:function(){1!==x&&v(x-1)},children:"Previous"}),Object(l.jsx)("button",{className:"btn-main btn btn-primary",onClick:function(){v(x+1)},children:"Next"})]})]})})}var v=n.a.memo(x),y=a(16),D={searchkey:"",startDate:"",endDate:""};var N=function(){var e=Object(c.useState)(D),t=Object(d.a)(e,2),a=t[0],n=t[1];return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(u,{sendData:function(e){!1===Object(y.isEqual)(a,e)&&n(Object(i.a)({},e))}}),Object(l.jsx)(v,{inputdata:Object(i.a)({},a)})]})};var g=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(N,{})})},k=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,33)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),c(e),n(e),s(e),r(e)}))};a(31);r.a.render(Object(l.jsx)(g,{}),document.getElementById("root")),k()}},[[32,1,2]]]);
//# sourceMappingURL=main.874e4cc5.chunk.js.map